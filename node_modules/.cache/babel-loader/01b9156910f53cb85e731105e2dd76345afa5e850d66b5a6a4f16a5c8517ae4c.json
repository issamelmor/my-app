{"ast":null,"code":"import _defineProperty from\"C:/Users/issam/Documents/Code projects/my-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/issam/Documents/Code projects/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/issam/Documents/Code projects/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{notification}from\"antd\";import axios from\"axios\";export var useForm=function useForm(validate){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),shouldSubmit=_useState6[0],setShouldSubmit=_useState6[1];var openNotificationWithIcon=function openNotificationWithIcon(){notification[\"success\"]({message:\"Success\",description:\"Your message has been sent!\"});};var handleSubmit=function handleSubmit(event){event.preventDefault();setErrors(validate(values));// Your url for API\nvar url=\"\";if(Object.keys(values).length===3){axios.post(url,_objectSpread({},values)).then(function(){setShouldSubmit(true);});}};useEffect(function(){if(Object.keys(errors).length===0&&shouldSubmit){setValues(\"\");openNotificationWithIcon();}},[errors,shouldSubmit]);var handleChange=function handleChange(event){event.persist();setValues(function(values){return _objectSpread(_objectSpread({},values),{},_defineProperty({},event.target.name,event.target.value));});setErrors(function(errors){return _objectSpread(_objectSpread({},errors),{},_defineProperty({},event.target.name,\"\"));});};return{handleChange:handleChange,handleSubmit:handleSubmit,values:values,errors:errors};};","map":{"version":3,"names":["useState","useEffect","notification","axios","useForm","validate","_useState","_useState2","_slicedToArray","values","setValues","_useState3","_useState4","errors","setErrors","_useState5","_useState6","shouldSubmit","setShouldSubmit","openNotificationWithIcon","message","description","handleSubmit","event","preventDefault","url","Object","keys","length","post","_objectSpread","then","handleChange","persist","_defineProperty","target","name","value"],"sources":["C:/Users/issam/Documents/Code projects/my-app/src/common/utils/useForm.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { notification } from \"antd\";\r\nimport axios from \"axios\";\r\n\r\nexport const useForm = (validate: any) => {\r\n  const [values, setValues] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [shouldSubmit, setShouldSubmit] = useState(false);\r\n\r\n  const openNotificationWithIcon = () => {\r\n    notification[\"success\"]({\r\n      message: \"Success\",\r\n      description: \"Your message has been sent!\",\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (event: React.ChangeEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    setErrors(validate(values));\r\n    // Your url for API\r\n    const url = \"\";\r\n    if (Object.keys(values).length === 3) {\r\n      axios\r\n        .post(url, {\r\n          ...values,\r\n        })\r\n        .then(() => {\r\n          setShouldSubmit(true);\r\n        });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(errors).length === 0 && shouldSubmit) {\r\n      setValues(\"\");\r\n      openNotificationWithIcon();\r\n    }\r\n  }, [errors, shouldSubmit]);\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    event.persist();\r\n    setValues((values) => ({\r\n      ...values,\r\n      [event.target.name]: event.target.value,\r\n    }));\r\n    setErrors((errors) => ({ ...errors, [event.target.name]: \"\" }));\r\n  };\r\n\r\n  return {\r\n    handleChange,\r\n    handleSubmit,\r\n    values,\r\n    errors,\r\n  };\r\n};\r\n"],"mappings":"0YAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,YAAY,KAAQ,MAAM,CACnC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB,MAAO,IAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAIC,QAAa,CAAK,CACxC,IAAAC,SAAA,CAA4BN,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAO,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjCG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IACxB,IAAAI,UAAA,CAA4BX,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAY,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAjCE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IACxB,IAAAG,UAAA,CAAwCf,QAAQ,CAAC,KAAK,CAAC,CAAAgB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAhDE,YAAY,CAAAD,UAAA,IAAEE,eAAe,CAAAF,UAAA,IAEpC,GAAM,CAAAG,wBAAwB,CAAG,QAA3B,CAAAA,wBAAwBA,CAAA,CAAS,CACrCjB,YAAY,CAAC,SAAS,CAAC,CAAC,CACtBkB,OAAO,CAAE,SAAS,CAClBC,WAAW,CAAE,6BACf,CAAC,CAAC,CACJ,CAAC,CAED,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,KAAyC,CAAK,CAClEA,KAAK,CAACC,cAAc,CAAC,CAAC,CACtBV,SAAS,CAACT,QAAQ,CAACI,MAAM,CAAC,CAAC,CAC3B;AACA,GAAM,CAAAgB,GAAG,CAAG,EAAE,CACd,GAAIC,MAAM,CAACC,IAAI,CAAClB,MAAM,CAAC,CAACmB,MAAM,GAAK,CAAC,CAAE,CACpCzB,KAAK,CACF0B,IAAI,CAACJ,GAAG,CAAAK,aAAA,IACJrB,MAAM,CACV,CAAC,CACDsB,IAAI,CAAC,UAAM,CACVb,eAAe,CAAC,IAAI,CAAC,CACvB,CAAC,CAAC,CACN,CACF,CAAC,CAEDjB,SAAS,CAAC,UAAM,CACd,GAAIyB,MAAM,CAACC,IAAI,CAACd,MAAM,CAAC,CAACe,MAAM,GAAK,CAAC,EAAIX,YAAY,CAAE,CACpDP,SAAS,CAAC,EAAE,CAAC,CACbS,wBAAwB,CAAC,CAAC,CAC5B,CACF,CAAC,CAAE,CAACN,MAAM,CAAEI,YAAY,CAAC,CAAC,CAE1B,GAAM,CAAAe,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIT,KAA0C,CAAK,CACnEA,KAAK,CAACU,OAAO,CAAC,CAAC,CACfvB,SAAS,CAAC,SAACD,MAAM,SAAAqB,aAAA,CAAAA,aAAA,IACZrB,MAAM,KAAAyB,eAAA,IACRX,KAAK,CAACY,MAAM,CAACC,IAAI,CAAGb,KAAK,CAACY,MAAM,CAACE,KAAK,IACvC,CAAC,CACHvB,SAAS,CAAC,SAACD,MAAM,SAAAiB,aAAA,CAAAA,aAAA,IAAWjB,MAAM,KAAAqB,eAAA,IAAGX,KAAK,CAACY,MAAM,CAACC,IAAI,CAAG,EAAE,IAAG,CAAC,CACjE,CAAC,CAED,MAAO,CACLJ,YAAY,CAAZA,YAAY,CACZV,YAAY,CAAZA,YAAY,CACZb,MAAM,CAANA,MAAM,CACNI,MAAM,CAANA,MACF,CAAC,CACH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}